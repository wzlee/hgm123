<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title></title>
    <meta http-equiv="pragma" content="no-cache" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />    
</head>
<body>
<input  type="button" value="返回" onclick="javascript:history.back();" />
<h1>发送邀请</h1>

<script type="text/javascript" src="../../yyapi/yyapi.js" language="javascript"></script>
<script type="text/javascript" language="javascript">
    debugMode = true;
    function onInviteAllSubChannel() {
        //发送邀请
        var result = yy.interaction.invite(1);
        //显示结果
        document.getElementById("txtLog").innerHTML = "发送邀请给子频道所有人:" + ((result.ret == 0) ? "成功" : ("失败,ret=" + result.ret));
    }

    function onInviteUsers() {
        //发送邀请
        var result = yy.interaction.invite(2);
        //显示到网页中
        document.getElementById("txtLog").innerHTML = "发送邀请给指定用户:" + ((result.ret == 0) ? "成功" : ("失败,ret=" + result.ret));
    }

    function onGetInviterButtonClick() {

        //获取邀请者的uid
        var result = yy.interaction.getInviter();

        //显示到网页中
        if (result.ret == 0) {
            document.getElementById("txtLog").innerHTML = "邀请者uid=" + result.inviterUid;
        } else {
            document.getElementById("txtLog").innerHTML = "无法获取邀请者，ret=" + result.ret;
        }


    }   
 </script>

<input type="button" style="width:200px" value="发送邀请给子频道所有人" onclick="onInviteAllSubChannel()"/><br>
<input type="button" style="width:200px" value="发送邀请给指定用户" onclick="onInviteUsers()"/><br>
<!--显示结果-->
<br>如果您是接受邀请进入当前应用的，可以通过此api获取邀请者的uid<br>
<input type="button" style="width:200px" value="获取邀请者Id" onclick="onGetInviterButtonClick()"/><br>
<br>
<div id="txtLog"></div><br>
<textarea id="txtConsole" cols=78 rows=6></textarea><br>
</body>
</html>
